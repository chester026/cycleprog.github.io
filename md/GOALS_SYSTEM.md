# Ð¡Ð¸ÑÑ‚ÐµÐ¼Ð° Ñ†ÐµÐ»ÐµÐ¹ (Goals System)

## ÐžÐ±Ð·Ð¾Ñ€

Ð¡Ð¸ÑÑ‚ÐµÐ¼Ð° Ñ†ÐµÐ»ÐµÐ¹ Ð¿Ð¾Ð·Ð²Ð¾Ð»ÑÐµÑ‚ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑÐ¼ ÑƒÑÑ‚Ð°Ð½Ð°Ð²Ð»Ð¸Ð²Ð°Ñ‚ÑŒ Ð¸ Ð¾Ñ‚ÑÐ»ÐµÐ¶Ð¸Ð²Ð°Ñ‚ÑŒ Ð¿Ñ€Ð¾Ð³Ñ€ÐµÑÑ Ð¿Ð¾ Ñ€Ð°Ð·Ð»Ð¸Ñ‡Ð½Ñ‹Ð¼ Ñ‚Ñ€ÐµÐ½Ð¸Ñ€Ð¾Ð²Ð¾Ñ‡Ð½Ñ‹Ð¼ Ð¿Ð¾ÐºÐ°Ð·Ð°Ñ‚ÐµÐ»ÑÐ¼. Ð¡Ð¸ÑÑ‚ÐµÐ¼Ð° Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ Ñ€Ð°ÑÑÑ‡Ð¸Ñ‚Ñ‹Ð²Ð°ÐµÑ‚ Ð¿Ñ€Ð¾Ð³Ñ€ÐµÑÑ Ð½Ð° Ð¾ÑÐ½Ð¾Ð²Ðµ Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð¸Ð· Strava Ð¸ Ð¿Ñ€ÐµÐ´Ð¾ÑÑ‚Ð°Ð²Ð»ÑÐµÑ‚ Ð²Ð¸Ð·ÑƒÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸ÑŽ Ð´Ð¾ÑÑ‚Ð¸Ð¶ÐµÐ½Ð¸Ð¹.

## ÐÑ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ð°

### ÐžÑÐ½Ð¾Ð²Ð½Ñ‹Ðµ ÐºÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½Ñ‚Ñ‹

```
ðŸ“ react-spa/src/
â”œâ”€â”€ ðŸŽ¯ components/GoalsManager.jsx     # Ð£Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ñ†ÐµÐ»ÑÐ¼Ð¸ (UI)
â”œâ”€â”€ ðŸ§® utils/goalsCache.js            # ÐšÑÑˆÐ¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð¸ Ñ€Ð°ÑÑ‡ÐµÑ‚ Ñ†ÐµÐ»ÐµÐ¹
â”œâ”€â”€ âš™ï¸ utils/cacheCheckup.js          # Ð¡Ð¸ÑÑ‚ÐµÐ¼Ð° Ñ‡ÐµÐº-Ð°Ð¿Ð° ÐºÑÑˆÐ°
â”œâ”€â”€ ðŸ“Š utils/cacheConstants.js        # ÐšÐ¾Ð½ÑÑ‚Ð°Ð½Ñ‚Ñ‹ TTL
â””â”€â”€ ðŸ“ˆ utils/vo2max.js                # Ð Ð°ÑÑ‡ÐµÑ‚ FTP/VO2max
```

### Ð‘Ð°Ð·Ð° Ð´Ð°Ð½Ð½Ñ‹Ñ…

```sql
-- Ð¢Ð°Ð±Ð»Ð¸Ñ†Ð° Ñ†ÐµÐ»ÐµÐ¹
CREATE TABLE goals (
  id SERIAL PRIMARY KEY,
  user_id INTEGER REFERENCES users(id),
  title VARCHAR(255) NOT NULL,
  description TEXT,
  target_value DECIMAL(10,2) NOT NULL,
  current_value DECIMAL(10,2) DEFAULT 0,
  unit VARCHAR(50),
  goal_type VARCHAR(50) NOT NULL,
  period VARCHAR(20) DEFAULT '4w',
  hr_threshold INTEGER DEFAULT 160,
  duration_threshold INTEGER DEFAULT 120,
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW()
);
```

## Ð¡Ð¸ÑÑ‚ÐµÐ¼Ð° ÐºÑÑˆÐ¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ

### ÐŸÑ€Ð¸Ð½Ñ†Ð¸Ð¿Ñ‹ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹

1. **ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹ Ñ‡ÐµÐº-Ð°Ð¿** Ð¿Ñ€Ð¸ Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÐµ PlanPage
2. **ÐšÑÑˆÐ¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ð¾Ð²** Ð½Ð° 7 Ð´Ð½ÐµÐ¹
3. **ÐŸÐµÑ€ÐµÑÑ‡ÐµÑ‚ Ð¿Ñ€Ð¸ Ð½Ð¾Ð²Ñ‹Ñ… Ñ‚Ñ€ÐµÐ½Ð¸Ñ€Ð¾Ð²ÐºÐ°Ñ…**
4. **ÐžÐ¿Ñ‚Ð¸Ð¼Ð¸Ð·Ð°Ñ†Ð¸Ñ Ð¿Ñ€Ð¾Ð¸Ð·Ð²Ð¾Ð´Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚Ð¸**

### Ð’Ñ€ÐµÐ¼ÐµÐ½Ð° ÐºÑÑˆÐ¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ (TTL)

| **Ð¢Ð¸Ð¿ Ð´Ð°Ð½Ð½Ñ‹Ñ…** | **TTL** | **ÐžÑ‡Ð¸ÑÑ‚ÐºÐ°** | **Ð›Ð¾Ð³Ð¸ÐºÐ°** |
|---|---|---|---|
| **Streams** | 7 Ð´Ð½ÐµÐ¹ | 10 Ð´Ð½ÐµÐ¹ | Ð ÐµÐ´ÐºÐ¾ Ð¼ÐµÐ½ÑÑŽÑ‚ÑÑ |
| **Ð¦ÐµÐ»Ð¸** | 7 Ð´Ð½ÐµÐ¹ | 10 Ð´Ð½ÐµÐ¹ | Ð—Ð°Ð²Ð¸ÑÑÑ‚ Ð¾Ñ‚ streams |
| **ÐÐºÑ‚Ð¸Ð²Ð½Ð¾ÑÑ‚Ð¸** | 30 Ð¼Ð¸Ð½ÑƒÑ‚ | 1 Ñ‡Ð°Ñ | ÐœÐ¾Ð³ÑƒÑ‚ Ð¾Ð±Ð½Ð¾Ð²Ð»ÑÑ‚ÑŒÑÑ |

### ÐšÑÑˆ ÐºÐ»ÑŽÑ‡Ð¸

```javascript
// Ð¦ÐµÐ»Ð¸
goals_progress_${activitiesHash}

// Streams Ð´Ð°Ð½Ð½Ñ‹Ðµ
streams_${activityId}

// ÐÐºÑ‚Ð¸Ð²Ð½Ð¾ÑÑ‚Ð¸
cycleprog_cache_activities_${userId}
```

## Ð¢Ð¸Ð¿Ñ‹ Ñ†ÐµÐ»ÐµÐ¹

### ÐŸÐ¾Ð´Ð´ÐµÑ€Ð¶Ð¸Ð²Ð°ÐµÐ¼Ñ‹Ðµ Ñ‚Ð¸Ð¿Ñ‹

1. **distance** - ÐžÐ±Ñ‰Ð°Ñ Ð´Ð¸ÑÑ‚Ð°Ð½Ñ†Ð¸Ñ (ÐºÐ¼)
2. **elevation** - ÐÐ°Ð±Ð¾Ñ€ Ð²Ñ‹ÑÐ¾Ñ‚Ñ‹ (Ð¼)
3. **time** - Ð’Ñ€ÐµÐ¼Ñ Ð² Ð´Ð²Ð¸Ð¶ÐµÐ½Ð¸Ð¸ (Ñ‡Ð°ÑÑ‹)
4. **speed_flat** - Ð¡Ñ€ÐµÐ´Ð½ÑÑ ÑÐºÐ¾Ñ€Ð¾ÑÑ‚ÑŒ Ð½Ð° Ñ€Ð°Ð²Ð½Ð¸Ð½Ðµ (ÐºÐ¼/Ñ‡)
5. **speed_hills** - Ð¡Ñ€ÐµÐ´Ð½ÑÑ ÑÐºÐ¾Ñ€Ð¾ÑÑ‚ÑŒ Ð² Ð³Ð¾Ñ€Ð°Ñ… (ÐºÐ¼/Ñ‡)
6. **pulse** - Ð¡Ñ€ÐµÐ´Ð½Ð¸Ð¹ Ð¿ÑƒÐ»ÑŒÑ (ÑƒÐ´/Ð¼Ð¸Ð½)
7. **avg_hr_flat** - Ð¡Ñ€ÐµÐ´Ð½Ð¸Ð¹ Ð¿ÑƒÐ»ÑŒÑ Ð½Ð° Ñ€Ð°Ð²Ð½Ð¸Ð½Ðµ (ÑƒÐ´/Ð¼Ð¸Ð½)
8. **avg_hr_hills** - Ð¡Ñ€ÐµÐ´Ð½Ð¸Ð¹ Ð¿ÑƒÐ»ÑŒÑ Ð² Ð³Ð¾Ñ€Ð°Ñ… (ÑƒÐ´/Ð¼Ð¸Ð½)
9. **avg_power** - Ð¡Ñ€ÐµÐ´Ð½ÑÑ Ð¼Ð¾Ñ‰Ð½Ð¾ÑÑ‚ÑŒ (Ð’Ñ‚)
10. **ftp_vo2max** - FTP/VO2max Ñ‚Ñ€ÐµÐ½Ð¸Ñ€Ð¾Ð²ÐºÐ¸ (Ð¼Ð¸Ð½ÑƒÑ‚Ñ‹)
11. **long_rides** - ÐšÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ Ð´Ð»Ð¸Ð½Ð½Ñ‹Ñ… Ð¿Ð¾ÐµÐ·Ð´Ð¾Ðº
12. **intervals** - ÐšÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ Ð¸Ð½Ñ‚ÐµÑ€Ð²Ð°Ð»ÑŒÐ½Ñ‹Ñ… Ñ‚Ñ€ÐµÐ½Ð¸Ñ€Ð¾Ð²Ð¾Ðº
13. **recovery** - ÐšÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ Ð²Ð¾ÑÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ñ… Ð¿Ð¾ÐµÐ·Ð´Ð¾Ðº
14. **custom** - ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒÑÐºÐ°Ñ Ñ†ÐµÐ»ÑŒ

### ÐŸÐµÑ€Ð¸Ð¾Ð´Ñ‹

- **4w** - 4 Ð½ÐµÐ´ÐµÐ»Ð¸
- **3m** - 3 Ð¼ÐµÑÑÑ†Ð°
- **year** - Ð“Ð¾Ð´
- **all** - Ð’ÑÐµ Ð²Ñ€ÐµÐ¼Ñ

## Ð¡Ð¸ÑÑ‚ÐµÐ¼Ð° Ñ‡ÐµÐº-Ð°Ð¿Ð°

### ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹ Ñ‡ÐµÐº-Ð°Ð¿

```javascript
// ÐŸÑ€Ð¸ Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÐµ PlanPage
await cacheCheckup.performFullCheckup();
const recommendations = cacheCheckup.getOptimizationRecommendations();

// ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¾Ðµ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ðµ Ð²Ñ‹ÑÐ¾ÐºÐ¾Ð¿Ñ€Ð¸Ð¾Ñ€Ð¸Ñ‚ÐµÑ‚Ð½Ñ‹Ñ… Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸Ð·Ð°Ñ†Ð¸Ð¹
const highPriorityRecs = recommendations.filter(rec => rec.priority === 'high');
if (highPriorityRecs.length > 0) {
  await cacheCheckup.executeRecommendations();
}
```

### Ð ÑƒÑ‡Ð½Ð¾Ðµ ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ

Ð”Ð¾ÑÑ‚ÑƒÐ¿Ð½Ð¾ Ð² Ð°Ð´Ð¼Ð¸Ð½ÐºÐµ: **AdminPage â†’ Cache**

- ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° ÑÑ‚Ð°Ñ‚ÑƒÑÐ° ÐºÑÑˆÐ°
- Ð ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ†Ð¸Ð¸ Ð¿Ð¾ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸Ð·Ð°Ñ†Ð¸Ð¸
- Ð ÑƒÑ‡Ð½Ð¾Ðµ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ðµ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸Ð·Ð°Ñ†Ð¸Ð¹
- ÐœÐ¾Ð½Ð¸Ñ‚Ð¾Ñ€Ð¸Ð½Ð³ Ñ€Ð°Ð·Ð¼ÐµÑ€Ð° ÐºÑÑˆÐ°

## API Endpoints

### ÐŸÐ¾Ð»ÑƒÑ‡ÐµÐ½Ð¸Ðµ Ñ†ÐµÐ»ÐµÐ¹
```http
GET /api/goals
```

### Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ Ñ†ÐµÐ»Ð¸
```http
POST /api/goals
Content-Type: application/json

{
  "title": "ÐŸÑ€Ð¾Ð±ÐµÐ¶Ð°Ñ‚ÑŒ 100 ÐºÐ¼",
  "description": "ÐŸÑ€Ð¾Ð±ÐµÐ¶Ð°Ñ‚ÑŒ 100 ÐºÐ¼ Ð·Ð° Ð¼ÐµÑÑÑ†",
  "target_value": 100,
  "unit": "km",
  "goal_type": "distance",
  "period": "4w"
}
```

### ÐžÐ±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ Ñ†ÐµÐ»Ð¸
```http
PUT /api/goals/:id
Content-Type: application/json

{
  "current_value": 75.5
}
```

### Ð£Ð´Ð°Ð»ÐµÐ½Ð¸Ðµ Ñ†ÐµÐ»Ð¸
```http
DELETE /api/goals/:id
```

## Ð Ð°ÑÑ‡ÐµÑ‚ Ð¿Ñ€Ð¾Ð³Ñ€ÐµÑÑÐ°

### ÐžÐ±Ñ‰Ð°Ñ Ð»Ð¾Ð³Ð¸ÐºÐ°

```javascript
// 1. Ð¤Ð¸Ð»ÑŒÑ‚Ñ€Ð°Ñ†Ð¸Ñ Ð°ÐºÑ‚Ð¸Ð²Ð½Ð¾ÑÑ‚ÐµÐ¹ Ð¿Ð¾ Ð¿ÐµÑ€Ð¸Ð¾Ð´Ñƒ
const filteredActivities = activities.filter(a => {
  const activityDate = new Date(a.start_date);
  const periodStart = getPeriodStartDate(goal.period);
  return activityDate > periodStart;
});

// 2. Ð Ð°ÑÑ‡ÐµÑ‚ Ð² Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸ Ð¾Ñ‚ Ñ‚Ð¸Ð¿Ð° Ñ†ÐµÐ»Ð¸
const progress = calculateGoalProgress(goal, filteredActivities);

// 3. ÐšÑÑˆÐ¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ð°
cacheGoals(activities, updatedGoals);
```

### Ð¡Ð¿ÐµÑ†Ð¸Ð°Ð»ÑŒÐ½Ñ‹Ðµ Ñ€Ð°ÑÑ‡ÐµÑ‚Ñ‹

#### FTP/VO2max Ñ‚Ñ€ÐµÐ½Ð¸Ñ€Ð¾Ð²ÐºÐ¸
```javascript
// ÐÐ½Ð°Ð»Ð¸Ð· Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸ Ð² Ð²Ñ‹ÑÐ¾ÐºÐ¾Ð¸Ð½Ñ‚ÐµÐ½ÑÐ¸Ð²Ð½Ñ‹Ñ… Ð·Ð¾Ð½Ð°Ñ…
const { totalTimeMin } = analyzeHighIntensityTime(activities, periodDays, {
  hr_threshold: goal.hr_threshold || 160,
  duration_threshold: goal.duration_threshold || 120
});
```

#### Ð¡Ñ€ÐµÐ´Ð½ÑÑ Ð¼Ð¾Ñ‰Ð½Ð¾ÑÑ‚ÑŒ
```javascript
// Ð Ð°ÑÑ‡ÐµÑ‚ Ð½Ð° Ð¾ÑÐ½Ð¾Ð²Ðµ Ñ„Ð¸Ð·Ð¸Ñ‡ÐµÑÐºÐ¸Ñ… Ñ„Ð¾Ñ€Ð¼ÑƒÐ»
const power = calculatePower(activity, {
  riderWeight: 75,
  bikeWeight: 8,
  airDensity: calculateAirDensity(temperature, elevation)
});
```

## ÐŸÑ€Ð¾Ð¸Ð·Ð²Ð¾Ð´Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚ÑŒ

### ÐžÐ¿Ñ‚Ð¸Ð¼Ð¸Ð·Ð°Ñ†Ð¸Ð¸

1. **ÐšÑÑˆÐ¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ð¾Ð²** - Ð¸Ð·Ð±ÐµÐ³Ð°ÐµÐ¼ Ð¿Ð¾Ð²Ñ‚Ð¾Ñ€Ð½Ñ‹Ñ… Ñ€Ð°ÑÑ‡ÐµÑ‚Ð¾Ð²
2. **Ð¥ÐµÑˆÐ¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð°ÐºÑ‚Ð¸Ð²Ð½Ð¾ÑÑ‚ÐµÐ¹** - Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÑÐµÐ¼ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ
3. **Ð›ÐµÐ½Ð¸Ð²Ð°Ñ Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÐ° streams** - Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð¿Ñ€Ð¸ Ð½ÐµÐ¾Ð±Ñ…Ð¾Ð´Ð¸Ð¼Ð¾ÑÑ‚Ð¸
4. **ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ°Ñ Ð¾Ñ‡Ð¸ÑÑ‚ÐºÐ°** - ÑƒÐ´Ð°Ð»ÐµÐ½Ð¸Ðµ ÑƒÑÑ‚Ð°Ñ€ÐµÐ²ÑˆÐ¸Ñ… Ð´Ð°Ð½Ð½Ñ‹Ñ…

### ÐœÐ¾Ð½Ð¸Ñ‚Ð¾Ñ€Ð¸Ð½Ð³

```javascript
// Ð Ð°Ð·Ð¼ÐµÑ€ ÐºÑÑˆÐ°
const cacheSize = getCacheSize(); // MB

// Ð¡Ñ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ° Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ñ
const stats = {
  activities: getActivitiesCacheStats(),
  streams: getStreamsCacheStats(),
  goals: getGoalsCacheStats()
};
```

## Ð‘ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚ÑŒ

### Ð’Ð°Ð»Ð¸Ð´Ð°Ñ†Ð¸Ñ Ð´Ð°Ð½Ð½Ñ‹Ñ…

```javascript
// ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð²Ñ…Ð¾Ð´Ð½Ñ‹Ñ… Ð´Ð°Ð½Ð½Ñ‹Ñ…
const validateGoal = (goal) => {
  if (!goal.title || goal.title.length > 255) {
    throw new Error('Invalid title');
  }
  if (goal.target_value <= 0) {
    throw new Error('Target value must be positive');
  }
  // ... Ð´Ñ€ÑƒÐ³Ð¸Ðµ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¸
};
```

### ÐŸÑ€Ð°Ð²Ð° Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð°

- ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ð¸ Ð¼Ð¾Ð³ÑƒÑ‚ ÑƒÐ¿Ñ€Ð°Ð²Ð»ÑÑ‚ÑŒ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ ÑÐ²Ð¾Ð¸Ð¼Ð¸ Ñ†ÐµÐ»ÑÐ¼Ð¸
- ÐÐ´Ð¼Ð¸Ð½Ð¸ÑÑ‚Ñ€Ð°Ñ‚Ð¾Ñ€Ñ‹ Ð¸Ð¼ÐµÑŽÑ‚ Ð´Ð¾ÑÑ‚ÑƒÐ¿ Ðº ÑÐ¸ÑÑ‚ÐµÐ¼Ð½Ð¾Ð¹ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ð¸
- API endpoints Ð·Ð°Ñ‰Ð¸Ñ‰ÐµÐ½Ñ‹ Ð°ÑƒÑ‚ÐµÐ½Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸ÐµÐ¹

## ÐœÐ¾Ð½Ð¸Ñ‚Ð¾Ñ€Ð¸Ð½Ð³ Ð¸ Ð¾Ñ‚Ð»Ð°Ð´ÐºÐ°

### Ð›Ð¾Ð³Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ

```javascript
console.log('ðŸ” ÐÐ°Ñ‡Ð¸Ð½Ð°ÐµÐ¼ Ñ‡ÐµÐº-Ð°Ð¿ ÐºÑÑˆÐ°...');
console.log('ðŸ“Š ÐÐºÑ‚Ð¸Ð²Ð½Ð¾ÑÑ‚Ð¸:', activitiesResult.message);
console.log('ðŸ“ˆ Streams:', streamsResult.message);
console.log('ðŸŽ¯ Ð¦ÐµÐ»Ð¸:', goalsResult.message);
console.log('ðŸ’¾ Ð Ð°Ð·Ð¼ÐµÑ€:', sizeResult.message);
```

### ÐžÐ±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ° Ð¾ÑˆÐ¸Ð±Ð¾Ðº

```javascript
try {
  const progress = await calculateGoalProgress(goal, activities);
  return progress;
} catch (error) {
  console.error('Error calculating goal progress:', error);
  return 0; // Fallback Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ
}
```

## Ð‘ÑƒÐ´ÑƒÑ‰Ð¸Ðµ ÑƒÐ»ÑƒÑ‡ÑˆÐµÐ½Ð¸Ñ

1. **ÐœÐ°ÑˆÐ¸Ð½Ð½Ð¾Ðµ Ð¾Ð±ÑƒÑ‡ÐµÐ½Ð¸Ðµ** - Ð¿Ñ€ÐµÐ´ÑÐºÐ°Ð·Ð°Ð½Ð¸Ðµ Ð´Ð¾ÑÑ‚Ð¸Ð¶Ð¸Ð¼Ð¾ÑÑ‚Ð¸ Ñ†ÐµÐ»ÐµÐ¹
2. **Ð¡Ð¾Ñ†Ð¸Ð°Ð»ÑŒÐ½Ñ‹Ðµ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸** - ÑÑ€Ð°Ð²Ð½ÐµÐ½Ð¸Ðµ Ñ Ð´Ñ€ÑƒÐ·ÑŒÑÐ¼Ð¸
3. **Ð£Ð²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ** - Ð½Ð°Ð¿Ð¾Ð¼Ð¸Ð½Ð°Ð½Ð¸Ñ Ð¾ Ð¿Ñ€Ð¾Ð³Ñ€ÐµÑÑÐµ
4. **Ð­ÐºÑÐ¿Ð¾Ñ€Ñ‚ Ð´Ð°Ð½Ð½Ñ‹Ñ…** - Ð²Ñ‹Ð³Ñ€ÑƒÐ·ÐºÐ° ÑÑ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ¸
5. **Ð˜Ð½Ñ‚ÐµÐ³Ñ€Ð°Ñ†Ð¸Ñ Ñ ÐºÐ°Ð»ÐµÐ½Ð´Ð°Ñ€ÐµÐ¼** - Ð¿Ð»Ð°Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ñ‚Ñ€ÐµÐ½Ð¸Ñ€Ð¾Ð²Ð¾Ðº 